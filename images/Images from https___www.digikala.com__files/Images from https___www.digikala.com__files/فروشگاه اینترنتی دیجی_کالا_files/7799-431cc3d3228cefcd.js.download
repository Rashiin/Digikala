(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7799],{21094:function(e,t,o){"use strict";o.d(t,{V:function(){return z}});var s=o(828),a=o(85893),l=o(67294),r=o(45697),i=o.n(r),n=o(73286),c=o(46094),d=o(79756),u=o(42687),h=o(19122),p=o(72733),m=o(10171),v=o(64854),f=o(42623),w=function(e){var t=e.url;return"https://www.facebook.com/sharer.php?u=".concat(t)},_=function(e){var t=e.url,o=e.title,s=e.hashtags,a=void 0===s?"digikala":s;return"https://twitter.com/intent/tweet?url=".concat(t,"&text=").concat(o,"&hashtags=").concat(a)},g=function(e){var t=e.title,o=e.url;return"https://api.whatsapp.com/send?text=".concat(t,"&").concat(o)},x=function(e){e.title;var t=e.url;return"sms:body=".concat(t)},b=o(27018);var j=(0,o(36176).q)({url:"digiclub/referral/get-voucher/",transformer:function(e){var t,o=e.data;return(0,n.objectModerator)({voucherCode:null===o||void 0===o||null===(t=o.voucher)||void 0===t?void 0:t.code})}}),M=o(57258),N=o(32172),k=o.n(N);function z(e){var t=e.showModal,o=e.onClose,r=e.shareUrls,i=e.hasDiscountCode,N=void 0===i||i,z=e.shareMessage,y=void 0===z?"\u0627\u06cc\u0646 \u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0627 \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f!":z,L=(0,b.e)().redirect,C=(0,d.useSelector)(u.p.isLoggedIn),U=(0,l.useState)(""),Z=U[0],B=U[1],D=(0,l.useState)(""),I=D[0],P=D[1],E=(0,s.Z)((0,p.m)(),2),O=E[0],S=E[1],q=(0,s.Z)((0,p.m)(),2),A=q[0],R=q[1],T=(0,h.C)().isDesktop,F=(0,l.useState)(!1),H=F[0],V=F[1],K=(0,M.V)({apiMethod:j,disabled:!(C&&H)}),Q=K.data,W=K.pending,X=null===Q||void 0===Q?void 0:Q.voucherCode;(0,l.useEffect)((function(){B((null===r||void 0===r?void 0:r.wishListUrl)||window.location.href)}),[]),(0,l.useEffect)((function(){if(P(Z),X){var e="\n        \u0633\u0644\u0627\u0645. \u0645\u0646 \u062e\u0631\u06cc\u062f \u0627\u06cc\u0646 \u0645\u062d\u0635\u0648\u0644 \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc\u200c\u06a9\u0646\u0645. \u0627\u06af\u0631 \u0627\u0648\u0644\u06cc\u0646 \u0628\u0627\u0631 \u0627\u0633\u062a \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u062e\u0631\u06cc\u062f \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f ".concat(X,"\n        ").concat(Z,"\n      ");P(e)}}),[X,Z]);var G={copyBtnClass:(0,n.classnames)("text-button-2 color-900 w-full py-3",k()["shareModal__button--copyBtn"]),twitter:(0,n.classnames)("text-button-1 color-000 w-full pointer",k()["shareModal__button--twitter"]),whatsapp:(0,n.classnames)("text-button-1 color-000 w-full pointer",k()["shareModal__button--whatsapp"]),facebook:(0,n.classnames)("text-button-1 color-000 w-full pointer",k()["shareModal__button--facebook"])};return(0,a.jsx)(v.u,{isOpen:t,onDismiss:o,headerTitle:"\u0627\u0634\u062a\u0631\u0627\u06a9\u200c\u06af\u0630\u0627\u0631\u06cc",hasHeaderBottomShadow:!1,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,n.classnames)("pb-4",{"border-b-200":N}),children:[(0,a.jsx)("p",{className:"text-body-1",children:y}),(0,a.jsx)("div",{className:"d-grid col-auto gap-4 mt-4",children:(0,a.jsxs)(m.z,{mode:"outlined",color:"black",className:G.copyBtnClass,onClick:function(){return S((null===r||void 0===r?void 0:r.wishListUrl)||(null===r||void 0===r?void 0:r.publicListUrl)||(null===r||void 0===r?void 0:r.invitationLinkUrl)||(null===window||void 0===window?void 0:window.location.href))},children:[(0,a.jsx)(c.Z,{icon:"copy",size:20,className:"ml-2"}),O||"\u06a9\u067e\u06cc \u06a9\u0631\u062f\u0646 \u0644\u06cc\u0646\u06a9"]})}),(0,a.jsxs)("div",{className:"d-grid grid-cols-2 grid-rows-2 gap-4 mt-4",children:[(0,a.jsxs)(m.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===r||void 0===r?void 0:r.whatsappUrl)||g({title:I,url:Z}),className:G.whatsapp,children:[(0,a.jsx)(c.Z,{icon:"whatsapp",size:24,color:"white",className:"ml-2"}),"\u0648\u0627\u062a\u0633\u200c\u0627\u067e"]}),(0,a.jsxs)(m.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===r||void 0===r?void 0:r.twitterUrl)||_({url:Z,title:I}),className:G.twitter,children:[(0,a.jsx)(c.Z,{icon:"twitter",size:24,color:"white",className:"ml-2"}),"\u062a\u0648\u06cc\u06cc\u062a\u0631"]}),(0,a.jsxs)(m.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===r||void 0===r?void 0:r.facebookUrl)||w({url:Z}),className:G.facebook,children:[(0,a.jsx)(c.Z,{icon:"facebook",size:24,color:"white",className:"ml-2"}),"\u0641\u06cc\u0633\u0628\u0648\u06a9"]}),!T&&(0,a.jsxs)(m.z,{mode:"filled",color:"red",padding:!0,size:"large",to:x({title:I,url:Z}),className:"text-button-1 color-000 w-full pointer",children:[(0,a.jsx)(c.Z,{icon:"sms",size:24,color:"white",className:"ml-2"}),"\u067e\u06cc\u0627\u0645\u06a9"]})]})]}),!!N&&(0,a.jsxs)("div",{className:"pos-relative d-flex-lg jc-center ai-center mt-4",children:[(0,a.jsxs)("div",{className:"pos-relative z-4",children:[(0,a.jsx)("p",{className:"text-button-2 color-800",children:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0634\u0645\u0627"}),(0,a.jsxs)("p",{className:(0,n.classnames)("text-body-2 color-800 mt-2",k().shareModal__voucherText),children:["\u06a9\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0641\u0631\u0633\u062a\u06cc\u062f \u0648 \u067e\u0633 \u0627\u0632",(0,a.jsx)("br",{}),"\u0627\u0648\u0644\u06cc\u0646 \u062e\u0631\u06cc\u062f \u0622\u0646\u0647\u0627\u060c \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0648 \u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u06af\u06cc\u0631\u06cc\u062f!"]}),X?(0,a.jsxs)(m.z,{mode:"outlined",color:"gray",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){return R(X)},children:[(0,a.jsx)(c.Z,{icon:"copy",width:20,height:20,className:"ml-2"}),A||X]}):(0,a.jsxs)(m.z,{mode:"outlined",color:"red",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){C?C&&!X&&V(!0):L({toLoginRegisterRoute:!0,withBackUrl:!0})},isLoading:W,children:[(0,a.jsx)(c.Z,{icon:"voucher",size:24,color:"primary",className:"ml-2"}),"\u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"]})]}),(0,a.jsx)("div",{className:"pos-absolute left-0 top-0 d-flex jc-end d-block-lg pos-relative-lg z-0",children:(0,a.jsx)(f.E,{src:"/statics/img/svg/share-modal.svg",width:"151",height:"162",alt:"\u0627\u0634\u062a\u0631\u0627\u06a9"})})]})]})})}z.prototype={showModal:i().bool.isRequired,onClose:i().func.isRequired,className:i().string}},42528:function(e,t,o){"use strict";function s(e){var t=e.component,o=e.getAPIMethods,s=e.layoutProps,a=e.isPrivate,l=e.noDefaultLoader,r=e.pageActivatorFeature,i=e.redirectIfLogin,n=e.afterLogin;return t.getAPIMethods=o,t.layoutProps=s,t.isPrivate=a,t.noDefaultLoader=l,t.pageActivatorFeature=r,t.redirectIfLogin=i,t.afterLogin=n,t}o.d(t,{D:function(){return s}})},32172:function(e){e.exports={"shareModal__button--whatsapp":"shareModal_shareModal__button--whatsapp__kK37f","shareModal__button--twitter":"shareModal_shareModal__button--twitter__OuLFb","shareModal__button--facebook":"shareModal_shareModal__button--facebook__hQI05","shareModal__button--copyBtn":"shareModal_shareModal__button--copyBtn__XrL65",shareModal__voucherText:"shareModal_shareModal__voucherText__WqseH"}}}]);
