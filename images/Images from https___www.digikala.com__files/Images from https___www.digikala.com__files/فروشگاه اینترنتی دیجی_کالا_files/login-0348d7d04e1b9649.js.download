(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9861],{265:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return t(9181)}])},87540:function(e,n,t){"use strict";t.d(n,{W:function(){return u}});var s=t(26042),r=t(85893),o=t(67294),i=t(45697),a=t.n(i),l=t(1808),u=function(e){var n=(0,o.useState)(!1),t=n[0],i=n[1];return(0,r.jsx)(l.I,(0,s.Z)({type:t?"text":"password",leftIcon:t?"visibilityOff":"visibilityOn",leftIconOnClick:function(e){e.stopPropagation(),i((function(e){return!e}))}},e))};u.propTypes={label:a().string,className:a().string,helper:a().string,error:a().oneOfType([a().string,a().bool]),isRequired:a().bool,disabled:a().bool,form:a().any}},9181:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return V}});var s=t(67294),r=t(85893),o=t(26042),i=t(45697),a=t.n(i),l=t(11234),u=t(1808),c=t(10171),d=t(81491),p=t(74222),m=t(36176),f=t(73286),h={password:l.eo.PASSWORD,otp:l.eo.OTP};var g=(0,m.q)({type:p.XN.POST,url:"user/authenticate/",transformer:function(e){var n=e.data;return(0,f.objectModerator)({hasPassword:n.has_password,hasAccount:n.has_account,loginMethod:h[n.login_method],timer:n.sms_ttl,username:n.phone})},inputTransformer:function(e){return{username:(null===e||void 0===e?void 0:e.username)||(null===e||void 0===e?void 0:e.phone),otp_call:(null===e||void 0===e?void 0:e.otpCall)||!1,force_send_otp:null===e||void 0===e?void 0:e.forceSendOtp}}}),x=t(48972),v=t(87025),N=t(73751),w=t(65221),j=t(80223),y=function(e){var n=e.setStep,t=e.setResponse,s=e.setUsername,o=(0,x.E)({apiMethod:g}),i=o.request,a=o.pending;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u0648\u0631\u0648\u062f | \u062b\u0628\u062a\u200c\u0646\u0627\u0645"}),(0,r.jsx)("p",{className:"text-body-2 color-700 mt-4 align-right w-full",children:"\u0633\u0644\u0627\u0645!"}),(0,r.jsx)("p",{className:"text-body-2 color-700 mb-4 align-right w-full",children:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)(j.l,{useFormProps:{mode:"onBlur"},onSubmit:function(e){s(e.username.trim()),i({username:e.username.trim()}).then((function(e){if(t(e),!e.hasAccount)return n(l.wN.register);n(e.loginMethod===l.eo.PASSWORD?l.wN.password:l.wN.otp)}))},items:[{component:(0,r.jsx)(u.I,{autoFocus:!0,inputWrapperProps:{fullWidth:!0}}),name:"username",defaultValue:"",rules:{required:N.Qt,validate:v.jI}},{component:(0,r.jsx)(c.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg text-button-1",isLoading:a,CROId:"login-register",children:"\u0648\u0631\u0648\u062f"})}]}),(0,r.jsxs)("p",{className:"text-caption color-700 mt-4",children:["\u0648\u0631\u0648\u062f \u0634\u0645\u0627 \u0628\u0647 \u0645\u0639\u0646\u0627\u06cc \u067e\u0630\u06cc\u0631\u0634",(0,r.jsx)(d.e,{mode:"link",href:w.A2,className:"mx-1 d-inline-block color-secondary-700",children:"\u0634\u0631\u0627\u06cc\u0637 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627"}),"\u0648",(0,r.jsx)(d.e,{mode:"link",href:w.SL,className:"mx-1 d-inline-block color-secondary-700",children:"\u0642\u0648\u0627\u0646\u06cc\u0646 \u062d\u0631\u06cc\u0645\u200c\u062e\u0635\u0648\u0635\u06cc"}),"\u0627\u0633\u062a"]})]})};y.propTypes={setStep:a().func,setResponse:a().func};var b=t(8149),S=t(59711),_=t(46094),R=t(16509),T=t(63536),P=t(70480),C=t(71330),O=function(e){var n,t=e.response,o=e.setStep,i=e.setResponse,a=(0,s.useState)(""),u=a[0],d=a[1],p=(0,b.J)({action:P.y}),m=p.request,f=p.pending,h=(0,x.E)({apiMethod:g}),w=h.request,y=h.pending,O=(0,s.useRef)(new Date),k=(0,C.c)(),z=k.ref,L=k.submit;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0634\u0645\u0627\u0631\u0647 ".concat((0,S.c9)(t.username)," \u067e\u06cc\u0627\u0645\u06a9 \u0634\u062f")}),(0,r.jsx)(j.l,{ref:z,onSubmit:function(e){m({username:t.username,code:(0,S.RQ)(e.code),type:l.eo.OTP})},items:[{component:(0,r.jsx)(T.N,{submit:L}),name:"code",defaultValue:"",rules:{validate:{isNumber:v.hj,length5:function(e){return 5===e.length||N.VP}}}}]}),t.hasPassword&&(0,r.jsxs)(c.z,{mode:"text",color:"blue",size:"small",className:"mt-4",onClick:function(){return o(l.wN.password)},padding:!1,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,r.jsx)(_.Z,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsx)(R.U,{error:u,endTime:1e3*t.timer+(null===(n=O.current)||void 0===n?void 0:n.getTime()),onResend:function(e){var n=e.otpCall,s=void 0!==n&&n;O.current=new Date,w({username:t.username,forceSendOtp:!0,otpCall:s}).then((function(e){i(e)})).catch((function(e){var n;d(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}))},isLoading:y}),(0,r.jsx)(c.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-4",isLoading:f,CROId:"login-verification-code",onClick:L,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};O.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var k=t(27018),z=t(3636),L=t(16751),W=t(87540),q=function(e){var n=e.setStep,t=e.setResponse,s=e.response,o=e.username,i=(0,k.e)().redirect,a=(0,b.J)({action:P.y}),u=a.request,d=a.pending,p=(0,x.E)({apiMethod:g}),m=p.request,f=p.pending,h=(0,C.c)(),v=h.ref,y=h.submit;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full my-4",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)(j.l,{ref:v,onSubmit:function(e){u({username:o,password:e.password,type:l.eo.PASSWORD}).then((function(e){(null===e||void 0===e?void 0:e.shouldConfirmPhone)&&i({url:w.ih})}))},items:[{component:(0,r.jsx)(W.W,{isRequired:!0,helper:" ",autoFocus:!0,inputWrapperProps:{fullWidth:!0}}),name:"password",defaultValue:"",rules:{required:N.gt}}]}),s.username&&(0,r.jsxs)(c.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){m({username:s.username,forceSendOtp:!0}).then((function(e){t(e),n(l.wN.otp)}))},className:"mt-3 p-0",padding:!1,isLoading:f,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u06cc\u06a9\u200c\u0628\u0627\u0631\u200c\u0645\u0635\u0631\u0641",(0,r.jsx)(_.Z,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsxs)(c.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){(0,z.d8)(L.x,s.username||o||""),i({url:w.sx})},className:"mt-3 p-0",padding:!1,children:["\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,r.jsx)(_.Z,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,r.jsx)(c.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-8",isLoading:d,onClick:y,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};q.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var E=(0,m.q)({type:p.XN.POST,url:"user/register/confirm/",inputTransformer:function(e){return{username:e.username,code:e.code}}}),I=function(e){var n=e.response,t=(e.setStep,e.setResponse),o=(0,k.e)().redirect,i=(0,s.useRef)(new Date),a=(0,s.useState)(""),l=a[0],u=a[1],d=(0,C.c)(),p=d.ref,m=d.submit,f=(0,x.E)({apiMethod:g}),h=f.request,y=f.pending,b=(0,x.E)({apiMethod:E,onSuccess:function(){o({url:w.iR})}}),_=b.request,P=b.pending;return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,r.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644\n        ".concat((0,S.c9)(n.username),"\n        \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u062d\u0633\u0627\u0628 \u062c\u062f\u06cc\u062f\u060c\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u0627\u0631\u0633\u0627\u0644 \u06af\u0631\u062f\u06cc\u062f.")}),(0,r.jsx)(j.l,{ref:p,onSubmit:function(e){_({username:n.username,code:e.code})},items:[{component:(0,r.jsx)(T.N,{submit:m}),name:"code",defaultValue:"",rules:{validate:{isNumber:v.hj,length5:function(e){return 5===e.length||N.VP}}}}]}),(0,r.jsx)(R.U,{error:l,isLoading:y,endTime:1e3*n.timer+i.current.getTime(),onResend:function(e){var s=e.otpCall,r=void 0!==s&&s;i.current=new Date,h({username:n.username,forceSendOtp:!0,otpCall:r}).then((function(e){t(e)})).catch((function(e){var n;u(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}))}}),(0,r.jsx)(c.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg",isLoading:P,onClick:m,children:"\u0627\u062f\u0627\u0645\u0647"})]})};I.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var Z=t(40172),M=t(23757),D=function(e){var n=e.className,t=(0,s.useState)(l.wN.auth),i=t[0],a=t[1],u=(0,s.useState)({}),c=u[0],d=u[1],p=(0,s.useState)(""),m={setStep:a,setResponse:d,response:c,username:p[0],setUsername:p[1]};return(0,r.jsxs)(M.p,{className:n,children:[(0,r.jsx)(Z.G,{setStep:a,firstStep:l.wN.auth,hasBack:i!==l.wN.auth,logoHiddenInMobile:i!==l.wN.auth,isIconFixedMobile:!0}),function(){switch(i){case l.wN.auth:return(0,r.jsx)(y,(0,o.Z)({},m));case l.wN.password:return(0,r.jsx)(q,(0,o.Z)({},m));case l.wN.otp:return(0,r.jsx)(O,(0,o.Z)({},m));case l.wN.register:return(0,r.jsx)(I,(0,o.Z)({},m));default:return null}}()]})};D.propTypes={className:a().string};var A=t(41896),V=(0,t(42528).D)({component:function(){return(0,r.jsx)(D,{})},redirectIfLogin:!0,layoutProps:{type:A.B.CENTER,justify:"center"}})},23757:function(e,n,t){"use strict";t.d(n,{p:function(){return c}});var s=t(14924),r=t(85893),o=(t(67294),t(73286)),i=t(45697),a=t.n(i),l=t(17663),u=t.n(l),c=function(e){var n=e.children,t=e.className,i=e.width,a=(0,o.classnames)("border-200-lg radius-medium p-5 p-8-lg","d-flex flex-column ai-center jc-start jc-center-lg",(0,s.Z)({},u().accountWrapper__mainBox,!i),i,t);return(0,r.jsx)("div",{className:a,children:n})};c.propTypes={children:a().any,className:a().string}},16751:function(e,n,t){"use strict";t.d(n,{m:function(){return r},x:function(){return s}});var s="forget_username",r="dk_app_install"},8149:function(e,n,t){"use strict";t.d(n,{J:function(){return d}});var s=t(26042),r=t(69396),o=t(61740),i=t(42687),a=t(79756),l=t(34351),u=t(65221),c=t(11163),d=function(e){var n=(0,a.useSelector)(i.p.isLoggedIn),t=(0,c.useRouter)(),d=t.asPath;return(0,o.JV)((0,r.Z)((0,s.Z)({},e),{isLoggedIn:n,redirectCallback:function(){t.replace("".concat(u.SW,"?").concat(l.hD,"=").concat(d))}}))}},3636:function(e,n,t){"use strict";t.d(n,{d8:function(){return i},ej:function(){return a},nJ:function(){return l}});var s=t(62286),r=t.n(s),o=t(88886);function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r().set(s,e,n,{maxAge:24*t*60*60,path:"/",secure:!o.yG})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?r().get(n)[e]:r().get(n)}function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r().destroy(n,e,{path:"/"})}},17663:function(e){e.exports={accountWrapper__mainBox:"AccountWrapper_accountWrapper__mainBox__HwnaH"}}},function(e){e.O(0,[7536,3938,4089,9774,2888,179],(function(){return n=265,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
